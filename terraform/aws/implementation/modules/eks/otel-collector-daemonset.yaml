mode: daemonset

presets:
  # enables the k8sattributesprocessor and adds it to the traces, metrics, and logs pipelines
  kubernetesAttributes:
    enabled: true
  # enables the kubeletstatsreceiver and adds it to the metrics pipelines
  kubeletMetrics:
    enabled: false
  # Enables the filelogreceiver and adds it to the logs pipelines
  logsCollection:
    enabled: true

components: # trying: https://opentelemetry.io/docs/demo/kubernetes-deployment/
  frontendProxy:
    ingress:
      enabled: true
      annotations: {}
      hosts:
        - host: dibbs.cloud
          paths:
            - path: /otel-collector
              pathType: Prefix
              port: 8888

# receivers:
#   otlp:
#     protocols:
#       grpc:
#         endpoint: "0.0.0.0:4317"
#       http:
#         endpoint: "0.0.0.0:4318"

# exporters:
#   debug:
#     verbosity: detailed
#   prometheus:
#    endpoint: 0.0.0.0:8889

# processors:
#   batch:

service:
  enabled: true
#   pipelines:
#     traces:
#       receivers: [otlp]
#       exporters: [debug]
#       processors: [batch]
#     metrics:
#       receivers: [otlp]
#       exporters: [debug, prometheus]
#       processors: [batch]
#     logs:
#       receivers: [otlp]
#       exporters: [debug]
#       processors: [batch]
